## 0. 修改记录

| No   | 版本号 | 修改内容 | 修改日期   | 修改人 |
| ---- | ------ | -------- | ---------- | ------ |
| 1    | V1.0.0 | 全文     | 2018.03.12 | 兰一星 |
|      |        |          |            |        |

## 1. 背景

使用基于token的认证方面移动端开发

## 2. 名词解释

对文档中出现的新的或不常见的名词、概念或简略语给出定义和解释。

## 3. 设计目标

### 3.1 实现的功能

概要描述该模块要实现的功能，不需要描述其它模块。须在此列出要实现的功能点及子功能点，并对每一个功能点进行详细说明。功能点之间的层级和关联关系要明晰。这里仅描述功能，不需要涉及实现方案、功能取舍等问题。

### 3.2 设计的性能指标

系统的性能目标需要分解到模块，在此描述系统对该模块的性能要求。建议分条列出量化的性能指标，比如加载速度，响应时间、超时率、资源占用、运行周期等。不能模糊、有岐义、想当然。

## 4. 系统环境（可选）

### 4.1 假设及与其它模块联系

在这里加入模块成功的前提条件及与外界其它系统/模块的联系。采用文字分条列出或采用模块结构图描述均可。这也是搭建测试环境和编写上线策略需要关注的内容，如果相依赖的模块不完善，则需要开发相应的桩程序，在“测试考虑”中描述。

### 4.2 相关软件及硬件

在这里加入系统所需的软, 硬件, 包括操作系统, 机器型号及配置要求。采用表格形式列出，最好还能规划出服务器和软件构件的部署图。

### 4.3 模块限制

在这里加入模块的已知, 或可预知的限制。

### 4.4 数据规模估计

通过调研或经验，对数据规模进行估计，包括请求数、并发量、用户量、数据量、带宽消耗及增长速度等方面，分类分条列出。

## 5. 设计思路及折衷

### 5.1 设计思路

### 5.2 折衷

## 6. 详细设计

描述模块设计架构，对模块相关的实现流程和业务规则进行详细说明。描述实现流程时，建议采用流程图的方式，也可以采用伪码或文字描述。无论采取哪种方式，都要注意分支的完备性，特别是异常分支。

### 6.1 整体架构

可以是架构图的形式

### 6.2 流程

需要有流程图

### 6.3 接口描述

可以列出模块所涉及的接口，尽量详细。不局限于前后端交互接口，模块间相互的调用依赖也可以列出来。

### 6.4 数据结构

如有，需要列出db相关的

### 6.5 测试考虑

说明从测试角度考虑设计方案以及单元测试或联合测试需要考虑的关键事项。比如测试计划、单元测试的思路、联合测试的重点、测试工具的开发和使用等。

## 7. 上线方案及预案

如果该功能的上线有流程依赖，此处必须要详细列出上线步骤以及回滚方案。

如果是server端，必须要针对系统线上运行中的各种核心情况，给出预案。

## 8. 人力与排期

## 9. 遗留和待跟进问题（可选）

## 10. 部署及运维设计（可选）

同《[线上服务部署设计文档模板](http://docs.babel.baidu.com/doc/6b312ad0-697d-4db5-a946-3961f1ea0c6d)》

### 10.1 服务架构

#### 10.1.1 服务分布

包括新上线服务的机器数量，服务的模块以及模块如何分布在服务器上；对其他服务是否有关联或数据交互。

#### 10.1.2 数据流向

说明线上服务的数据流向，即简要说明线上服务模块是如何工作的。

#### 10.1.3 服务类型

标明服务各模块的类型是cpu消耗型、io消耗型、大容量磁盘空间消耗型。

#### 10.1.4 资源情况

根据预计流量、数据量等给出服务对内存、硬盘等硬件资源的需求情况、CPU/IO等系统资源的预期使用情况、带宽预估情况、第三方软件使用情况等。

### 10.2 运维设计

#### 10.2.1 服务冗余性

服务各模块的冗余考虑，如果某个模块所在服务器出现问题如何实现冗余来保证服务不受影响。

#### 10.2.2 服务可维护性

包括数据损坏后如何修复，减少单点服务，如果无法避免单点尽量减少单点功能，动态数据正确性的检查、启动服务的帐户减少用root等。

#### 10.2.3 服务可扩展性

当服务访问量或数据量达到上限，服务如何继续保持可扩展性。

#### 10.2.4 服务监控

包括是否支持通用服务监控接口，是否需要新增或升级监控程序；还有动态数据的监控、报表监控需求等。

#### 10.2.5 其他运维影响

是否支持自动运维、是否对其它服务部署运维产生影响。

## 11. 风险评估及对其它模块/系统影响（可选）

### 11.1 已知的或可预知的风险

在这里加上已经知道的或可能会发生的风险，包括技术、业务等方面。最好针对每个风险，列出相应的应对措施。

### 11.2 与其它模块/系统可能的影响

4.1中描述了模块之间的依赖关系，在这里描述这些依赖关系可能带来的影响。包括本模块对其它模块可能造成的影响以及其它模块可能给本模块造成的影响两个方面。

## 12. 设计评审意见

这里累计记录和跟踪该文档评审时发现的问题

| 问题描述 | 提出人 | 处理方式/说明 | 状态   |
| -------- | ------ | ------------- | ------ |
| 描述     | 张三   | 处理方式      | closed |
| 描述     | 李四   | 说明          | open   |
|          |        |               |        |

## 13. 附件及参考资料